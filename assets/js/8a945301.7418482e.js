"use strict";(globalThis.webpackChunkvex_tutorial=globalThis.webpackChunkvex_tutorial||[]).push([[333,1956],{7163(s,e,a){a.r(e),a.d(e,{assets:()=>m,contentTitle:()=>c,default:()=>o,frontMatter:()=>r,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"pppp","title":"PID \u6a21\u64ec\u5668\uff1a\u4e92\u52d5\u5f0f\u63a7\u5236\u7406\u8ad6\u5b78\u7fd2\u5de5\u5177","description":"\u900f\u904e\u4e92\u52d5\u5f0f PID \u6a21\u64ec\u5668\uff0c\u5be6\u6642\u8abf\u6574 P\u3001I\u3001D \u53c3\u6578\u4e26\u89c0\u5bdf\u66f2\u7dda\u8b8a\u5316\u3002\u5e6b\u52a9 VEX \u9078\u624b\u76f4\u89c0\u7406\u89e3\u6bd4\u4f8b\u3001\u7a4d\u5206\u3001\u5fae\u5206\u63a7\u5236\u539f\u7406\uff0c\u512a\u5316\u6a5f\u68b0\u4eba\u7cbe\u6e96\u5ea6\u3002","source":"@site/docs/pppp.md","sourceDirName":".","slug":"/pppp","permalink":"/pppp","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":99,"frontMatter":{"sidebar_position":99,"title":"PID \u6a21\u64ec\u5668\uff1a\u4e92\u52d5\u5f0f\u63a7\u5236\u7406\u8ad6\u5b78\u7fd2\u5de5\u5177","description":"\u900f\u904e\u4e92\u52d5\u5f0f PID \u6a21\u64ec\u5668\uff0c\u5be6\u6642\u8abf\u6574 P\u3001I\u3001D \u53c3\u6578\u4e26\u89c0\u5bdf\u66f2\u7dda\u8b8a\u5316\u3002\u5e6b\u52a9 VEX \u9078\u624b\u76f4\u89c0\u7406\u89e3\u6bd4\u4f8b\u3001\u7a4d\u5206\u3001\u5fae\u5206\u63a7\u5236\u539f\u7406\uff0c\u512a\u5316\u6a5f\u68b0\u4eba\u7cbe\u6e96\u5ea6\u3002","keywords":["PID \u6a21\u64ec\u5668","PID Simulator","\u63a7\u5236\u7406\u8ad6","VEX \u53c3\u6578\u8abf\u6574","PID \u6559\u5b78","\u4e92\u52d5\u5f0f\u6a21\u64ec","\u6a5f\u68b0\u4eba\u63a7\u5236"]},"sidebar":"tutorialSidebar","previous":{"title":"6.5 Boomerang Controller","permalink":"/\u7b2c\u516d\u7ae0/6_5"}}');var i=a(4848),t=a(8453),l=a(8898);const r={sidebar_position:99,title:"PID \u6a21\u64ec\u5668\uff1a\u4e92\u52d5\u5f0f\u63a7\u5236\u7406\u8ad6\u5b78\u7fd2\u5de5\u5177",description:"\u900f\u904e\u4e92\u52d5\u5f0f PID \u6a21\u64ec\u5668\uff0c\u5be6\u6642\u8abf\u6574 P\u3001I\u3001D \u53c3\u6578\u4e26\u89c0\u5bdf\u66f2\u7dda\u8b8a\u5316\u3002\u5e6b\u52a9 VEX \u9078\u624b\u76f4\u89c0\u7406\u89e3\u6bd4\u4f8b\u3001\u7a4d\u5206\u3001\u5fae\u5206\u63a7\u5236\u539f\u7406\uff0c\u512a\u5316\u6a5f\u68b0\u4eba\u7cbe\u6e96\u5ea6\u3002",keywords:["PID \u6a21\u64ec\u5668","PID Simulator","\u63a7\u5236\u7406\u8ad6","VEX \u53c3\u6578\u8abf\u6574","PID \u6559\u5b78","\u4e92\u52d5\u5f0f\u6a21\u64ec","\u6a5f\u68b0\u4eba\u63a7\u5236"]},c="PID Simulator",m={},d=[{value:"PID \u63a7\u5236\u5668\u516c\u5f0f",id:"pid-\u63a7\u5236\u5668\u516c\u5f0f",level:3}];function h(s){const e={annotation:"annotation",h1:"h1",h3:"h3",header:"header",math:"math",mfrac:"mfrac",mi:"mi",mo:"mo",mrow:"mrow",msub:"msub",p:"p",semantics:"semantics",span:"span",strong:"strong",...(0,t.R)(),...s.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"pid-simulator",children:"PID Simulator"})}),"\n",(0,i.jsxs)(e.p,{children:["\u5462\u5ea6\u4fc2 PID Simulator \u5605\u4e92\u52d5\u5f0f\u793a\u7bc4\u3002\n",(0,i.jsx)("br",{}),"\u5b83\u53ef\u4ee5\u5e6b\u52a9\u4f60\u7406\u89e3 PID \u63a7\u5236\u7406\u8ad6\uff0c\u4e26\u4e14\u53ef\u4ee5\u8b93\u4f60\u81ea\u5df1\u8abf\u6574 PID \u53c3\u6578\uff0c\u4ee5\u9054\u5230\u6700\u4f73\u7684\u63a7\u5236\u6548\u679c\u3002"]}),"\n",(0,i.jsx)(e.h3,{id:"pid-\u63a7\u5236\u5668\u516c\u5f0f",children:"PID \u63a7\u5236\u5668\u516c\u5f0f"}),"\n",(0,i.jsx)(e.p,{children:"PID \u63a7\u5236\u5668\u662f\u4e00\u7a2e\u5ee3\u6cdb\u4f7f\u7528\u7684\u56de\u994b\u63a7\u5236\u6f14\u7b97\u6cd5\uff0c\u5b83\u6839\u64da\u8aa4\u5dee\u8a0a\u865f\u7684\u6bd4\u4f8b\u3001\u7a4d\u5206\u548c\u5fae\u5206\u4f86\u8abf\u6574\u8f38\u51fa\u3002"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u6bd4\u4f8b\u9805 (Proportional Term, P):"}),"\n",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"P"}),(0,i.jsx)(e.mo,{children:"="}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"K"}),(0,i.jsx)(e.mi,{children:"p"})]}),(0,i.jsx)(e.mo,{children:"\u22c5"}),(0,i.jsx)(e.mi,{children:"e"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"P = K_p \\cdot e(t)"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"P"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(e.span,{className:"mrel",children:"="}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.9694em",verticalAlign:"-0.2861em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"K"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.1514em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"p"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2861em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(e.span,{className:"mbin",children:"\u22c5"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,i.jsx)(e.span,{className:"mclose",children:")"})]})]})]}),"\n\u5176\u4e2d ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"K"}),(0,i.jsx)(e.mi,{children:"p"})]})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"K_p"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.9694em",verticalAlign:"-0.2861em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"K"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.1514em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"p"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2861em"},children:(0,i.jsx)(e.span,{})})})]})})]})]})})]})," \u662f\u6bd4\u4f8b\u589e\u76ca\uff0c\u800c ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"e"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"e(t)"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,i.jsx)(e.span,{className:"mclose",children:")"})]})})]})," \u662f\u7576\u524d\u8aa4\u5dee\uff08\u76ee\u6a19\u503c\u8207\u6e2c\u91cf\u503c\u4e4b\u5dee\uff09\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u7a4d\u5206\u9805 (Integral Term, I):"}),"\n",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"I"}),(0,i.jsx)(e.mo,{children:"="}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"K"}),(0,i.jsx)(e.mi,{children:"i"})]}),(0,i.jsx)(e.mo,{children:"\u222b"}),(0,i.jsx)(e.mi,{children:"e"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"}),(0,i.jsx)(e.mi,{children:"d"}),(0,i.jsx)(e.mi,{children:"t"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"I = K_i \\int e(t) dt"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"},children:"I"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(e.span,{className:"mrel",children:"="}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1.1111em",verticalAlign:"-0.3061em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"K"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsx)(e.span,{className:"mop op-symbol small-op",style:{marginRight:"0.19445em",position:"relative",top:"-0.0006em"},children:"\u222b"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,i.jsx)(e.span,{className:"mclose",children:")"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"d"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"t"})]})]})]}),"\n\u5176\u4e2d ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"K"}),(0,i.jsx)(e.mi,{children:"i"})]})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"K_i"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"K"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]})]})})]})," \u662f\u7a4d\u5206\u589e\u76ca\uff0c",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mo,{children:"\u222b"}),(0,i.jsx)(e.mi,{children:"e"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"}),(0,i.jsx)(e.mi,{children:"d"}),(0,i.jsx)(e.mi,{children:"t"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\int e(t) dt"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1.1111em",verticalAlign:"-0.3061em"}}),(0,i.jsx)(e.span,{className:"mop op-symbol small-op",style:{marginRight:"0.19445em",position:"relative",top:"-0.0006em"},children:"\u222b"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,i.jsx)(e.span,{className:"mclose",children:")"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"d"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"t"})]})})]})," \u662f\u8aa4\u5dee\u7684\u7d2f\u7a4d\u548c\u3002\u7a4d\u5206\u9805\u7528\u65bc\u6d88\u9664\u7a69\u614b\u8aa4\u5dee\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u5fae\u5206\u9805 (Derivative Term, D):"}),"\n",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"D"}),(0,i.jsx)(e.mo,{children:"="}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"K"}),(0,i.jsx)(e.mi,{children:"d"})]}),(0,i.jsxs)(e.mfrac,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"d"}),(0,i.jsx)(e.mi,{children:"e"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"d"}),(0,i.jsx)(e.mi,{children:"t"})]})]})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"D = K_d \\frac{de(t)}{dt}"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"D"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(e.span,{className:"mrel",children:"="}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1.355em",verticalAlign:"-0.345em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"K"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3361em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"d"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,i.jsx)(e.span,{className:"mfrac",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsxs)(e.span,{className:"vlist",style:{height:"1.01em"},children:[(0,i.jsxs)(e.span,{style:{top:"-2.655em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"d"}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"})]})})]}),(0,i.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,i.jsxs)(e.span,{style:{top:"-3.485em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"d"}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"e"}),(0,i.jsx)(e.span,{className:"mopen mtight",children:"("}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"}),(0,i.jsx)(e.span,{className:"mclose mtight",children:")"})]})})]})]}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.345em"},children:(0,i.jsx)(e.span,{})})})]})}),(0,i.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})]})]}),"\n\u5176\u4e2d ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"K"}),(0,i.jsx)(e.mi,{children:"d"})]})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"K_d"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"K"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3361em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"d"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]})]})})]})," \u662f\u5fae\u5206\u589e\u76ca\uff0c",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsxs)(e.mfrac,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"d"}),(0,i.jsx)(e.mi,{children:"e"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"d"}),(0,i.jsx)(e.mi,{children:"t"})]})]})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\frac{de(t)}{dt}"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1.355em",verticalAlign:"-0.345em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,i.jsx)(e.span,{className:"mfrac",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsxs)(e.span,{className:"vlist",style:{height:"1.01em"},children:[(0,i.jsxs)(e.span,{style:{top:"-2.655em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"d"}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"})]})})]}),(0,i.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,i.jsxs)(e.span,{style:{top:"-3.485em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"d"}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"e"}),(0,i.jsx)(e.span,{className:"mopen mtight",children:"("}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"}),(0,i.jsx)(e.span,{className:"mclose mtight",children:")"})]})})]})]}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.345em"},children:(0,i.jsx)(e.span,{})})})]})}),(0,i.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})})]})," \u662f\u8aa4\u5dee\u7684\u8b8a\u5316\u7387\u3002\u5fae\u5206\u9805\u7528\u65bc\u9810\u6e2c\u8aa4\u5dee\u7684\u8da8\u52e2\uff0c\u6e1b\u5c11\u904e\u885d\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u7e3d\u5408 PID \u8f38\u51fa:"}),"\n",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"u"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"}),(0,i.jsx)(e.mo,{children:"="}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"K"}),(0,i.jsx)(e.mi,{children:"p"})]}),(0,i.jsx)(e.mi,{children:"e"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"}),(0,i.jsx)(e.mo,{children:"+"}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"K"}),(0,i.jsx)(e.mi,{children:"i"})]}),(0,i.jsx)(e.mo,{children:"\u222b"}),(0,i.jsx)(e.mi,{children:"e"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"}),(0,i.jsx)(e.mi,{children:"d"}),(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mo,{children:"+"}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"K"}),(0,i.jsx)(e.mi,{children:"d"})]}),(0,i.jsxs)(e.mfrac,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"d"}),(0,i.jsx)(e.mi,{children:"e"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"d"}),(0,i.jsx)(e.mi,{children:"t"})]})]})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"u(t) = K_p e(t) + K_i \\int e(t) dt + K_d \\frac{de(t)}{dt}"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,i.jsx)(e.span,{className:"mclose",children:")"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(e.span,{className:"mrel",children:"="}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1.0361em",verticalAlign:"-0.2861em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"K"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.1514em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"p"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2861em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,i.jsx)(e.span,{className:"mclose",children:")"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(e.span,{className:"mbin",children:"+"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1.1111em",verticalAlign:"-0.3061em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"K"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsx)(e.span,{className:"mop op-symbol small-op",style:{marginRight:"0.19445em",position:"relative",top:"-0.0006em"},children:"\u222b"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,i.jsx)(e.span,{className:"mclose",children:")"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"d"}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(e.span,{className:"mbin",children:"+"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1.355em",verticalAlign:"-0.345em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"K"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3361em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"d"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,i.jsx)(e.span,{className:"mfrac",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsxs)(e.span,{className:"vlist",style:{height:"1.01em"},children:[(0,i.jsxs)(e.span,{style:{top:"-2.655em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"d"}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"})]})})]}),(0,i.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,i.jsxs)(e.span,{style:{top:"-3.485em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"d"}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"e"}),(0,i.jsx)(e.span,{className:"mopen mtight",children:"("}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"}),(0,i.jsx)(e.span,{className:"mclose mtight",children:")"})]})})]})]}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.345em"},children:(0,i.jsx)(e.span,{})})})]})}),(0,i.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})]})]}),"\n\u5176\u4e2d ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"u"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"u(t)"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,i.jsx)(e.span,{className:"mclose",children:")"})]})})]})," \u662f\u63a7\u5236\u5668\u7684\u8f38\u51fa\uff0c\u7528\u65bc\u8abf\u6574\u7cfb\u7d71\u7684\u884c\u70ba\u3002"]}),"\n",(0,i.jsx)(l.default,{})]})}function o(s={}){const{wrapper:e}={...(0,t.R)(),...s.components};return e?(0,i.jsx)(e,{...s,children:(0,i.jsx)(h,{...s})}):h(s)}},8453(s,e,a){a.d(e,{R:()=>l,x:()=>r});var n=a(6540);const i={},t=n.createContext(i);function l(s){const e=n.useContext(t);return n.useMemo(function(){return"function"==typeof s?s(e):{...e,...s}},[e,s])}function r(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(i):s.components||i:l(s.components),n.createElement(t.Provider,{value:e},s.children)}},8478(s,e,a){a.d(e,{A:()=>t});a(6540);var n=a(2303),i=a(4848);function t({children:s,fallback:e}){return(0,n.A)()?(0,i.jsx)(i.Fragment,{children:s?.()}):e??null}},8898(s,e,a){a.r(e),a.d(e,{default:()=>r});var n=a(6540),i=a(8478),t=(a(9246),a(4848));const l=()=>{const[s,e]=(0,n.useState)(!0),[a,i]=(0,n.useState)(11),[l,r]=(0,n.useState)(.00325),[c,m]=(0,n.useState)(4),[d,h]=(0,n.useState)(1500),o=(0,n.useRef)({position:100,target:300,velocity:0,integral:0,lastError:0,elapsedTime:0,history:[]}),p={targetGroup:(0,n.useRef)(null),objectGroup:(0,n.useRef)(null),arrowP:(0,n.useRef)(null),arrowI:(0,n.useRef)(null),arrowD:(0,n.useRef)(null),arrowTotal:(0,n.useRef)(null),pathTarget:(0,n.useRef)(null),pathPos:(0,n.useRef)(null),elapsedTimeText:(0,n.useRef)(null),svg:(0,n.useRef)(null)},x=(0,n.useRef)(),j=.016,g=(0,n.useCallback)(()=>{o.current={position:50,target:300,velocity:0,integral:0,lastError:0,elapsedTime:0,history:[]},e(!0),p.elapsedTimeText.current&&(p.elapsedTimeText.current.innerText="0.00"),u(0,0,0,0)},[]),N=(0,n.useCallback)(()=>{if(s){const s=o.current;if(1e3*s.elapsedTime>=d)e(!1);else{const e=s.target-s.position,n=a*e;s.integral=Math.max(-1e3,Math.min(1e3,s.integral+e*j));const i=l*s.integral,t=(e-s.lastError)/j,r=c*t,m=n+i+r,d=m/1;s.velocity=.96*(s.velocity+d*j),s.position+=s.velocity*j,s.position<0&&(s.position=0,s.velocity*=-.5),s.position>800&&(s.position=800,s.velocity*=-.5),s.lastError=e,s.elapsedTime+=j,Math.floor(s.elapsedTime/j)%3==0&&(s.history.push({pos:s.position,target:s.target}),s.history.length>300&&s.history.shift()),u(n,i,r,m),p.elapsedTimeText.current&&(p.elapsedTimeText.current.innerText=s.elapsedTime.toFixed(2))}}x.current=requestAnimationFrame(N)},[s,a,l,c,d]),u=(s,e,a,n)=>{const i=o.current,t=p;t.targetGroup.current&&t.targetGroup.current.setAttribute("transform",`translate(${i.target}, 0)`),t.objectGroup.current&&t.objectGroup.current.setAttribute("transform",`translate(${i.position}, 0)`);const l=(s,e,a)=>{if(!s.current)return;let n=2*e;if(Math.abs(n)>300&&(n=300*Math.sign(n)),Math.abs(n)<1)return void s.current.setAttribute("opacity","0");s.current.setAttribute("opacity",s===t.arrowTotal?"1":"0.9");const l=i.position,r=140+a,c=l+n,m=s.current.querySelector("line"),d=s.current.querySelector("path"),h=s.current.querySelector("text"),o=s.current.id||"";if(m&&(m.setAttribute("x1",l),m.setAttribute("y1",r),m.setAttribute("x2",c),m.setAttribute("y2",r)),d){const s=Math.sign(n);Math.abs(n)>5?(d.setAttribute("d",`M ${c} ${r} L ${c-6*s} ${r-6} L ${c-6*s} ${r+6} Z`),d.style.display="block"):d.style.display="none"}h&&(h.setAttribute("x",l+n/2),h.setAttribute("y",r-5),h.textContent=`${o.replace("arrow-","").toUpperCase()} (${Math.abs(e).toFixed(1)})`)};if(l(t.arrowP,s,-40),l(t.arrowI,e,-60),l(t.arrowD,a,-80),l(t.arrowTotal,n,60),i.history.length>1&&t.pathTarget.current&&t.pathPos.current){let s="M",e="M";i.history.forEach((a,n)=>{const i=n/299*300,t=100-a.target/800*100,l=100-a.pos/800*100,r=0===n?"":"L ";s+=`${r}${i.toFixed(1)},${t.toFixed(1)} `,e+=`${r}${i.toFixed(1)},${l.toFixed(1)} `}),t.pathTarget.current.setAttribute("d",s),t.pathPos.current.setAttribute("d",e)}};(0,n.useEffect)(()=>(x.current=requestAnimationFrame(N),()=>cancelAnimationFrame(x.current)),[N]);return(0,t.jsxs)("div",{className:"pid-wrapper",children:[(0,t.jsx)("style",{children:"\n/* \u8b8a\u6578\u5b9a\u7fa9 */\n.pid-wrapper {\n  --pid-bg: #f8fafc;\n  --pid-card-bg: #ffffff;\n  --pid-text: #334155;\n  --pid-text-light: #64748b;\n  --pid-border: #e2e8f0;\n  --pid-accent: #2563eb;\n  --pid-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n\nhtml[data-theme='dark'] .pid-wrapper {\n  --pid-bg: #1b1b1d;\n  --pid-card-bg: #242526;\n  --pid-text: #e2e8f0;\n  --pid-text-light: #94a3b8;\n  --pid-border: #37383a;\n  --pid-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);\n}\n\n.pid-wrapper {\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif;\n  background-color: var(--pid-bg);\n  color: var(--pid-text);\n  \n  /* --- \u95dc\u9375\u4fee\u6539\uff1a\u9650\u5236\u5bec\u5ea6\u8207\u7f6e\u4e2d --- */\n  width: 100%;\n  max-width: 100%;  /* \u9650\u5236\u6700\u5927\u5bec\u5ea6\uff0c\u8b93\u4ecb\u9762\u8b8a\u7a84 */\n  margin: 2rem auto; /* \u4e0a\u4e0b\u7559\u767d 2rem\uff0c\u5de6\u53f3\u81ea\u52d5\u7f6e\u4e2d (\u767d\u908a) */\n  padding: 1.5rem;   /* \u5167\u90e8\u7559\u767d\u7a0d\u5fae\u7e2e\u5c0f\u4e00\u9ede */\n  \n  border-radius: 16px;\n  border: 1px solid var(--pid-border);\n  box-sizing: border-box; /* \u78ba\u4fdd padding \u4e0d\u6703\u6490\u5927\u5bec\u5ea6 */\n}\n\n/* \u6a19\u984c\u5340\u584a */\n.pid-header {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin-bottom: 1.5rem;\n  padding: 1.25rem;\n  background: var(--pid-card-bg);\n  border-radius: 12px;\n  box-shadow: var(--pid-shadow);\n  border: 1px solid var(--pid-border);\n}\n\n@media (min-width: 640px) {\n  .pid-header {\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n  }\n}\n\n.pid-title h2 {\n  margin: 0;\n  font-size: 1.25rem; /* \u6a19\u984c\u5b57\u9ad4\u7a0d\u5fae\u8abf\u5c0f */\n  font-weight: 800;\n  background: linear-gradient(to right, #2563eb, #4f46e5);\n  -webkit-background-clip: text;\n  color: transparent;\n  line-height: 1.3;\n}\n\n.pid-subtitle {\n  margin-top: 0.25rem;\n  font-size: 0.8rem;\n  color: var(--pid-text-light);\n}\n\n/* \u6309\u9215\u7fa4\u7d44 */\n.pid-controls {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.pid-btn {\n  padding: 0.4rem 1rem;\n  border-radius: 8px;\n  font-size: 0.9rem;\n  font-weight: 600;\n  cursor: pointer;\n  border: none;\n  transition: all 0.2s;\n  white-space: nowrap;\n}\n\n.pid-btn-toggle { background-color: #dcfce7; color: #15803d; }\n.pid-btn-toggle.paused { background-color: #fef3c7; color: #b45309; }\n.pid-btn-reset { background-color: #f1f5f9; color: #475569; }\nhtml[data-theme='dark'] .pid-btn-reset { background-color: #3e4042; color: #e2e8f0; }\n\n/* \u53c3\u6578\u6ed1\u687f\u7db2\u683c - \u7a0d\u5fae\u7dca\u6e4a\u4e00\u9ede */\n.pid-grid {\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 0.75rem;\n  margin-bottom: 1.5rem;\n}\n@media (min-width: 500px) { .pid-grid { grid-template-columns: repeat(2, 1fr); } }\n/* \u53ea\u6709\u5728\u7a7a\u9593\u8db3\u5920\u6642\u624d\u8b8a\u56db\u6b04\uff0c\u907f\u514d\u592a\u64e0 */\n@media (min-width: 768px) { .pid-grid { grid-template-columns: repeat(4, 1fr); } }\n\n.pid-card {\n  background: var(--pid-card-bg);\n  padding: 0.75rem; /* \u7e2e\u5c0f\u5167\u8ddd */\n  border-radius: 10px;\n  box-shadow: var(--pid-shadow);\n  border-left: 4px solid #ccc;\n  display: flex;\n  flex-direction: column;\n}\n\n.pid-card.green { border-color: #22c55e; }\n.pid-card.orange { border-color: #f97316; }\n.pid-card.red { border-color: #ef4444; }\n.pid-card.blue { border-color: #3b82f6; }\n\n.pid-label {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-weight: 700;\n  margin-bottom: 0.25rem;\n  font-size: 0.85rem;\n}\n\n.pid-tag {\n  font-size: 0.65rem;\n  padding: 1px 5px;\n  border-radius: 3px;\n  font-weight: normal;\n  background: #f1f5f9;\n  color: #64748b;\n  margin-left: 4px;\n}\nhtml[data-theme='dark'] .pid-tag { background: #3e4042; color: #cbd5e1; }\n\n.pid-val { font-family: monospace; font-size: 0.85rem; }\n\n.pid-desc {\n  font-size: 0.7rem;\n  color: var(--pid-text-light);\n  margin-top: 0.25rem;\n  line-height: 1.2;\n  min-height: 2.4em;\n}\n\n/* Range Input */\n.pid-range {\n  -webkit-appearance: none;\n  width: 100%;\n  background: transparent;\n  margin: 0.25rem 0;\n}\n.pid-range:focus { outline: none; }\n.pid-range::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  height: 14px; width: 14px; /* \u7a0d\u5fae\u7e2e\u5c0f\u6ed1\u584a */\n  border-radius: 50%;\n  background: currentColor;\n  cursor: pointer;\n  margin-top: -5px;\n  box-shadow: 0 1px 2px rgba(0,0,0,0.3);\n}\n.pid-range::-webkit-slider-runnable-track {\n  width: 100%; height: 4px; cursor: pointer; background: #e2e8f0; border-radius: 2px;\n}\nhtml[data-theme='dark'] .pid-range::-webkit-slider-runnable-track { background: #4b5563; }\n\n/* \u756b\u5e03\u5340\u57df */\n.pid-canvas-container {\n  background: var(--pid-card-bg);\n  border-radius: 12px;\n  box-shadow: var(--pid-shadow);\n  border: 1px solid var(--pid-border);\n  overflow: hidden;\n  margin-bottom: 1.5rem;\n  position: relative;\n  /* \u78ba\u4fdd Canvas \u4e0d\u6703\u88ab\u62c9\u5f97\u592a\u9ad8 */\n  line-height: 0; \n  width:100%;\n  margin: 2rem auto;\n}\n.pid-overlay {\n  position: absolute;\n  top: 8px; left: 8px;\n  background: rgba(255,255,255,0.9);\n  padding: 3px 8px;\n  border-radius: 4px;\n  font-size: 0.7rem;\n  color: #64748b;\n  pointer-events: none;\n  border: 1px solid #e2e8f0;\n  z-index: 10;\n  line-height: 1.5;\n}\nhtml[data-theme='dark'] .pid-overlay { background: rgba(30,30,30,0.9); border-color: #444; color: #ccc; }\n\n.pid-svg {\n  display: block;\n  cursor: crosshair;\n  background-color: var(--pid-bg);\n  width: 100%;\n  /* \u9019\u88e1\u4e0d\u9700\u8981 min-height\uff0c\u8b93 viewBox \u81ea\u52d5\u7dad\u6301\u5bec\u9ad8\u6bd4 (800:280) */\n  height: auto; \n}\n\n/* \u5716\u8868\u5340\u57df */\n.pid-charts {\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 1rem;\n}\n@media (min-width: 768px) { .pid-charts { grid-template-columns: 3fr 2fr; } } /* \u5de6\u908a\u5716\u8868\u5bec\u4e00\u9ede */\n\n.pid-chart-box, .pid-info-box {\n  background: var(--pid-card-bg);\n  border-radius: 12px;\n  padding: 1rem;\n  border: 1px solid var(--pid-border);\n  box-shadow: var(--pid-shadow);\n}\n\n.pid-graph-container {\n  position: relative;\n  height: 160px; /* \u5716\u8868\u9ad8\u5ea6\u7a0d\u5fae\u8abf\u4f4e */\n  width: 100%;\n  border-left: 1px solid var(--pid-border);\n  border-bottom: 1px solid var(--pid-border);\n  background: rgba(0,0,0,0.02);\n}\n\n.pid-info-list {\n  padding-left: 1.2rem;\n  margin: 0;\n  font-size: 0.85rem;\n  line-height: 1.5;\n  color: var(--pid-text);\n}\n.pid-info-list li { margin-bottom: 0.4rem; }\n\n.graph-line { vector-effect: non-scaling-stroke; }\n"}),(0,t.jsxs)("div",{className:"pid-header",children:[(0,t.jsxs)("div",{className:"pid-title",children:[(0,t.jsx)("h2",{children:"VEX V5RC PID \u539f\u7406\u793a\u7bc4"}),(0,t.jsx)("div",{className:"pid-subtitle",children:"Proportional (\u6bd4\u4f8b) - Integral (\u7a4d\u5206) - Derivative (\u5fae\u5206)"}),(0,t.jsx)("div",{className:"pid-subtitle",children:"Author: You"})]}),(0,t.jsxs)("div",{className:"pid-controls",children:[(0,t.jsx)("button",{onClick:()=>e(!s),className:"pid-btn pid-btn-toggle "+(s?"":"paused"),children:s?"\u66ab\u505c II":"\u958b\u59cb \u25b6"}),(0,t.jsx)("button",{onClick:g,className:"pid-btn pid-btn-reset",children:"\u91cd\u7f6e \u27f2"})]})]}),(0,t.jsxs)("div",{className:"pid-grid",children:[(0,t.jsxs)("div",{className:"pid-card green",children:[(0,t.jsxs)("div",{className:"pid-label",children:[(0,t.jsxs)("span",{style:{color:"#16a34a"},children:["Kp ",(0,t.jsx)("span",{className:"pid-tag",children:"\u6bd4\u4f8b\u9805"})]}),(0,t.jsx)("span",{className:"pid-val",children:a.toFixed(2)})]}),(0,t.jsx)("input",{className:"pid-range",type:"range",min:"0",max:"50.0",step:"0.01",value:a,onChange:s=>i(parseFloat(s.target.value)),style:{color:"#16a34a"}}),(0,t.jsx)("div",{className:"pid-desc",children:"\u8abf\u7bc0\u6574\u9ad4\u901f\u5ea6\uff08\u8ddd\u96e2\u8d8a\u9060\uff0c\u901f\u5ea6\u8d8a\u5feb\uff09\u3002"})]}),(0,t.jsxs)("div",{className:"pid-card orange",children:[(0,t.jsxs)("div",{className:"pid-label",children:[(0,t.jsxs)("span",{style:{color:"#ea580c"},children:["Ki ",(0,t.jsx)("span",{className:"pid-tag",children:"\u7a4d\u5206\u9805"})]}),(0,t.jsx)("span",{className:"pid-val",children:l.toFixed(5)})]}),(0,t.jsx)("input",{className:"pid-range",type:"range",min:"0",max:"0.1",step:"0.001",value:l,onChange:s=>r(parseFloat(s.target.value)),style:{color:"#ea580c"}}),(0,t.jsx)("div",{className:"pid-desc",children:"\u7d2f\u7a4d\u904e\u53bb\u7684\u8aa4\u5dee\uff0c\u7528\u4f86\u6d88\u9664\u7a69\u614b\u8aa4\u5dee\u3002"})]}),(0,t.jsxs)("div",{className:"pid-card red",children:[(0,t.jsxs)("div",{className:"pid-label",children:[(0,t.jsxs)("span",{style:{color:"#dc2626"},children:["Kd ",(0,t.jsx)("span",{className:"pid-tag",children:"\u5fae\u5206\u9805"})]}),(0,t.jsx)("span",{className:"pid-val",children:c.toFixed(1)})]}),(0,t.jsx)("input",{className:"pid-range",type:"range",min:"0",max:"50",step:"0.5",value:c,onChange:s=>m(parseFloat(s.target.value)),style:{color:"#dc2626"}}),(0,t.jsx)("div",{className:"pid-desc",children:"\u9810\u6e2c\u8aa4\u5dee\u8b8a\u5316\uff0c\u63d0\u4f9b\u963b\u5c3c\u529b\u9053\u9632\u6b62\u904e\u885d\u3002"})]}),(0,t.jsxs)("div",{className:"pid-card blue",children:[(0,t.jsxs)("div",{className:"pid-label",children:[(0,t.jsxs)("span",{style:{color:"#2563eb"},children:["Timeout ",(0,t.jsx)("span",{className:"pid-tag",children:"ms"})]}),(0,t.jsx)("span",{className:"pid-val",children:d})]}),(0,t.jsx)("input",{className:"pid-range",type:"range",min:"100",max:"10000",step:"100",value:d,onChange:s=>h(parseInt(s.target.value)),style:{color:"#2563eb"}}),(0,t.jsxs)("div",{className:"pid-desc",children:["\u5df2\u904b\u884c: ",(0,t.jsx)("span",{ref:p.elapsedTimeText,style:{fontWeight:"bold",color:"#2563eb"},children:"0.00"}),"s"]})]})]}),(0,t.jsxs)("div",{className:"pid-canvas-container",children:[(0,t.jsx)("div",{className:"pid-overlay",children:"\ud83d\udd95\u9ede\u64ca\u8ecc\u9053\u8a2d\u5b9a\u76ee\u6a19\ud83d\udd95"}),(0,t.jsxs)("svg",{ref:p.svg,onMouseDown:a=>{if(!p.svg.current)return;const n=p.svg.current.getBoundingClientRect(),i=800/n.width;let t=(a.clientX-n.left)*i;t<0&&(t=0),t>800&&(t=800),o.current.target=t,o.current.elapsedTime=0,p.elapsedTimeText.current&&(p.elapsedTimeText.current.innerText="0.00"),s||e(!0)},viewBox:"0 0 800 280",className:"pid-svg",style:{touchAction:"none"},children:[(0,t.jsx)("defs",{children:(0,t.jsx)("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:(0,t.jsx)("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"currentColor",strokeOpacity:"0.05",strokeWidth:"1"})})}),(0,t.jsx)("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),(0,t.jsx)("line",{x1:"0",y1:"140",x2:"800",y2:"140",stroke:"currentColor",strokeOpacity:"0.2",strokeWidth:"2"}),(0,t.jsxs)("g",{ref:p.targetGroup,transform:"translate(300, 0)",children:[(0,t.jsx)("line",{x1:"0",y1:"40",x2:"0",y2:"240",stroke:"#ef4444",strokeWidth:"2",strokeDasharray:"6 4"}),(0,t.jsx)("text",{x:"0",y:"35",textAnchor:"middle",fill:"#ef4444",fontSize:"12",fontWeight:"bold",children:"\u76ee\u6a19\u503c"}),(0,t.jsx)("polygon",{points:"-6,40 6,40 0,50",fill:"#ef4444"})]}),(0,t.jsxs)("g",{ref:p.objectGroup,transform:"translate(100, 0)",children:[(0,t.jsx)("rect",{x:"-25",y:"115",width:"50",height:"50",rx:"8",fill:"#3b82f6",stroke:"#2563eb",strokeWidth:"2",fillOpacity:"0.2"}),(0,t.jsx)("circle",{cx:"0",cy:"140",r:"5",fill:"#2563eb"}),(0,t.jsx)("text",{x:"0",y:"185",textAnchor:"middle",fill:"#3b82f6",fontSize:"12",fontWeight:"bold",children:"Robot"})]}),(0,t.jsxs)("g",{ref:p.arrowP,id:"arrow-p",children:[(0,t.jsx)("line",{stroke:"#16a34a",strokeWidth:"3"}),(0,t.jsx)("path",{fill:"#16a34a"}),(0,t.jsx)("text",{textAnchor:"middle",fill:"#16a34a",fontSize:"10",fontWeight:"bold",children:"P"})]}),(0,t.jsxs)("g",{ref:p.arrowI,id:"arrow-i",children:[(0,t.jsx)("line",{stroke:"#ea580c",strokeWidth:"3"}),(0,t.jsx)("path",{fill:"#ea580c"}),(0,t.jsx)("text",{textAnchor:"middle",fill:"#ea580c",fontSize:"10",fontWeight:"bold",children:"I"})]}),(0,t.jsxs)("g",{ref:p.arrowD,id:"arrow-d",children:[(0,t.jsx)("line",{stroke:"#dc2626",strokeWidth:"3"}),(0,t.jsx)("path",{fill:"#dc2626"}),(0,t.jsx)("text",{textAnchor:"middle",fill:"#dc2626",fontSize:"10",fontWeight:"bold",children:"D"})]}),(0,t.jsxs)("g",{ref:p.arrowTotal,id:"arrow-total",children:[(0,t.jsx)("line",{stroke:"#1e293b",strokeWidth:"4"}),(0,t.jsx)("path",{fill:"#1e293b"}),(0,t.jsx)("text",{textAnchor:"middle",fill:"#1e293b",fontSize:"10",fontWeight:"bold",children:"Total"})]})]})]}),(0,t.jsxs)("div",{className:"pid-charts",children:[(0,t.jsxs)("div",{className:"pid-chart-box",children:[(0,t.jsx)("h3",{className:"pid-label",children:(0,t.jsx)("span",{children:"\u4f4d\u7f6e\u97ff\u61c9\u66f2\u7dda"})}),(0,t.jsxs)("div",{className:"pid-graph-container",children:[(0,t.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 300 100",preserveAspectRatio:"none",children:[(0,t.jsx)("path",{ref:p.pathTarget,d:"",fill:"none",stroke:"#ef4444",strokeWidth:"1.5",strokeDasharray:"4 2",className:"graph-line"}),(0,t.jsx)("path",{ref:p.pathPos,d:"",fill:"none",stroke:"#3b82f6",strokeWidth:"2",className:"graph-line"})]}),(0,t.jsx)("div",{style:{position:"absolute",bottom:2,right:5,fontSize:"10px",color:"#999"},children:"Time \u2192"}),(0,t.jsx)("div",{style:{position:"absolute",top:2,left:5,fontSize:"10px",color:"#999"},children:"Pos \u2191"})]})]}),(0,t.jsxs)("div",{className:"pid-info-box",children:[(0,t.jsx)("h3",{className:"pid-label",children:"\ud83d\udca1 \u89c0\u5bdf\u6307\u5357"}),(0,t.jsxs)("ul",{className:"pid-info-list",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{style:{color:"#16a34a"},children:"P (\u6bd4\u4f8b)"}),": \u6578\u503c\u8d8a\u5927\uff0c\u53cd\u61c9\u8d8a\u5feb\uff0c\u4f46\u5bb9\u6613\u9707\u76ea\u3002"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{style:{color:"#dc2626"},children:"D (\u5fae\u5206)"}),": \u50cf\u715e\u8eca\u4e00\u6a23\uff0c\u6291\u5236\u9707\u76ea\u8207\u904e\u885d (Overshoot)\u3002"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{style:{color:"#ea580c"},children:"I (\u7a4d\u5206)"}),": \u4fee\u6b63\u5373\u4f7f\u505c\u6b62\u5f8c\u4ecd\u5b58\u5728\u7684\u5fae\u5c0f\u8aa4\u5dee\u3002"]})]})]})]})]})};function r(){return(0,t.jsx)(i.A,{fallback:(0,t.jsx)("div",{children:"Loading Simulation..."}),children:()=>(0,t.jsx)(l,{})})}}}]);