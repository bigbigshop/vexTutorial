<!doctype html>
<html lang="zh-Hant" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-第六章/6_3" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">6.3 Odometry：里程計系統 | VEX V5 教學</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://vex.ykyle.eu/img/VEXcodeV5.jpg"><meta data-rh="true" name="twitter:image" content="https://vex.ykyle.eu/img/VEXcodeV5.jpg"><meta data-rh="true" property="og:url" content="https://vex.ykyle.eu/第六章/6_3"><meta data-rh="true" property="og:locale" content="zh_Hant"><meta data-rh="true" name="docusaurus_locale" content="zh-Hant"><meta data-rh="true" name="docsearch:language" content="zh-Hant"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="6.3 Odometry：里程計系統 | VEX V5 教學"><meta data-rh="true" name="description" content="學習 VEX 演算法的皇冠明珠 —— 里程計 (Odometry)。透過獨立追蹤輪解決馬達打滑問題，實現精準的 X, Y 座標導航。"><meta data-rh="true" property="og:description" content="學習 VEX 演算法的皇冠明珠 —— 里程計 (Odometry)。透過獨立追蹤輪解決馬達打滑問題，實現精準的 X, Y 座標導航。"><link data-rh="true" rel="icon" href="/img/VEXcodeV5.jpg"><link data-rh="true" rel="canonical" href="https://vex.ykyle.eu/第六章/6_3"><link data-rh="true" rel="alternate" href="https://vex.ykyle.eu/第六章/6_3" hreflang="zh-Hant"><link data-rh="true" rel="alternate" href="https://vex.ykyle.eu/第六章/6_3" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"第六章：進階編程","item":"https://vex.ykyle.eu/category/第六章進階編程"},{"@type":"ListItem","position":2,"name":"6.3 Odometry：里程計系統","item":"https://vex.ykyle.eu/第六章/6_3"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="VEX V5 教學 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="VEX V5 教學 Atom Feed">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.d24eddef.css">
<script src="/assets/js/runtime~main.69c37b99.js" defer="defer"></script>
<script src="/assets/js/main.03554fc7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/VEXcodeV5.jpg"><div role="region" aria-label="跳至主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳至主要内容</a></div><nav aria-label="主導航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="切換導覽列" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/VEXcodeV5.jpg" alt="VEX V5資料分享網 Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/VEXcodeV5.jpg" alt="VEX V5資料分享網 Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">VEX V5資料分享網</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/intro">VEX V5</a><a class="navbar__item navbar__link" href="/pppp">PID模擬器</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">版本</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/pidSim">v1.0</a></li><li><a class="dropdown__link" href="/intro">v2.0</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="切換淺色/深色模式（當前為system mode）"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到頂部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文件側邊欄" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/intro"><span title="序：VEX V5" class="linkLabel_WmDU">序：VEX V5</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/category/第一章前言"><span title="第一章：前言" class="categoryLinkLabel_W154">第一章：前言</span></a><button aria-label="展開側邊欄分類 &#x27;第一章：前言&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/category/第二章push-back"><span title="第二章：Push Back" class="categoryLinkLabel_W154">第二章：Push Back</span></a><button aria-label="展開側邊欄分類 &#x27;第二章：Push Back&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/category/第三章底架"><span title="第三章：底架" class="categoryLinkLabel_W154">第三章：底架</span></a><button aria-label="展開側邊欄分類 &#x27;第三章：底架&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/category/第四章操控"><span title="第四章：操控" class="categoryLinkLabel_W154">第四章：操控</span></a><button aria-label="展開側邊欄分類 &#x27;第四章：操控&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/category/第五章編程"><span title="第五章：編程" class="categoryLinkLabel_W154">第五章：編程</span></a><button aria-label="展開側邊欄分類 &#x27;第五章：編程&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/category/第六章進階編程"><span title="第六章：進階編程" class="categoryLinkLabel_W154">第六章：進階編程</span></a><button aria-label="收起側邊欄分類 &#x27;第六章：進階編程&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/第六章/6_1"><span title="6.1 PID 控制理論" class="linkLabel_WmDU">6.1 PID 控制理論</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/第六章/6_2"><span title="6.2 PID：直線修正" class="linkLabel_WmDU">6.2 PID：直線修正</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/第六章/6_3"><span title="6.3 Odometry：里程計系統" class="linkLabel_WmDU">6.3 Odometry：里程計系統</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/第六章/6_4"><span title="6.4 Pure Pursuit：純路徑追蹤" class="linkLabel_WmDU">6.4 Pure Pursuit：純路徑追蹤</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pppp"><span title="PID模擬器" class="linkLabel_WmDU">PID模擬器</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="頁面路徑"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主頁面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/category/第六章進階編程"><span>第六章：進階編程</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">6.3 Odometry：里程計系統</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本頁導覽</button></div><div class="theme-doc-markdown markdown"><header><h1>6.3 Odometry：里程計系統</h1></header><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="前情提要"><strong>前情提要</strong><a href="#前情提要" class="hash-link" aria-label="前情提要的直接連結" title="前情提要的直接連結" translate="no">​</a></h2>
<p>在 6.2 章，我們利用 PID 讓機器人學會了「行直線」。但還有一個致命問題：<strong>打滑 (Wheel Slip)</strong>。</p>
<p>當機器人全速衝向障礙物，或者被對手撞擊側移時，馬達雖然在轉，編碼器持續計數，但機器人實際上並沒有移動。這會導致機器人以為自己到了終點，其實還在半途。這一章，我們要引入 VEX 演算法的皇冠明珠 —— <strong>里程計 (Odometry)</strong>。</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-為什麼馬達編碼器會講大話"><strong>1. 為什麼馬達編碼器會「講大話」？</strong><a href="#1-為什麼馬達編碼器會講大話" class="hash-link" aria-label="1-為什麼馬達編碼器會講大話的直接連結" title="1-為什麼馬達編碼器會講大話的直接連結" translate="no">​</a></h2>
<p>我們之前的程式碼都是基於馬達內置編碼器數據，但在實戰中，這些數據經常不可信：</p>
<ol>
<li class=""><strong>原地空轉 (Burnout)：</strong> 機器人卡在牆邊，驅動輪瘋狂轉動。編碼器顯示行了 10 米，但實際上一寸都沒動。</li>
<li class=""><strong>被動位移 (Drift)：</strong> 你鎖死了煞車，但被對手橫向推開。輪子沒轉，編碼器顯示 0，但你的位置已經變了。</li>
<li class=""><strong>起步打滑 (Slip)：</strong> 猛然啟動時，輪子會像賽車一樣空轉半圈才抓地。這半圈的數據就是誤差。</li>
</ol>
<p><strong>結論：</strong> 驅動輪負責推動機器人，會受力打滑。要精準測量距離，你需要一套獨立、不帶動力的量測系統。</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-誠實的觀察者追蹤輪-tracking-wheels"><strong>2. 誠實的觀察者：追蹤輪 (Tracking Wheels)</strong><a href="#2-誠實的觀察者追蹤輪-tracking-wheels" class="hash-link" aria-label="2-誠實的觀察者追蹤輪-tracking-wheels的直接連結" title="2-誠實的觀察者追蹤輪-tracking-wheels的直接連結" translate="no">​</a></h2>
<p>解決方案是安裝「死輪」（Dead Wheels），學名 <strong>追蹤輪 (Tracking Wheels)</strong>。</p>
<p>這些輪子有三個核心特點：</p>
<ul>
<li class=""><strong>無動力 (Unpowered)：</strong> 不連接馬達，只連接獨立的<strong>旋轉感應器 (Rotation Sensor)</strong>。</li>
<li class=""><strong>彈簧壓緊 (Spring-loaded)：</strong> 利用彈簧結構將輪子緊壓地面，確保永遠不會懸空。</li>
<li class=""><strong>全向輪 (Omni)：</strong> 使用 Omni 輪以減少摩擦力，且不干擾底盤轉向。</li>
</ul>
<p><strong>原理：</strong> 追蹤輪是被動拖著走的。只有當底盤真正移動時，它們才會轉動。如果馬達空轉，追蹤輪是不會動的。它是絕對誠實的數據來源。</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-數學原理"><strong>3. 數學原理</strong><a href="#3-數學原理" class="hash-link" aria-label="3-數學原理的直接連結" title="3-數學原理的直接連結" translate="no">​</a></h2>
<p>里程計的核心任務是即時計算機器人在場地上的<strong>絕對座標 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mclose">)</span></span></span></span></strong> 與 <strong>朝向角度 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span></span></span></span></strong>。這聽起來像微積分，其實就是「無窮加法」。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="微元法邏輯-the-logic-of-integration"><strong>微元法邏輯 (The Logic of Integration)：</strong><a href="#微元法邏輯-the-logic-of-integration" class="hash-link" aria-label="微元法邏輯-the-logic-of-integration的直接連結" title="微元法邏輯-the-logic-of-integration的直接連結" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="第一步計算局部位移與角度變化"><strong>第一步：計算局部位移與角度變化</strong><a href="#第一步計算局部位移與角度變化" class="hash-link" aria-label="第一步計算局部位移與角度變化的直接連結" title="第一步計算局部位移與角度變化的直接連結" translate="no">​</a></h4>
<p>在極短的時間（如 10ms）內，我們紀錄左右追蹤輪的位移變化量：</p>
<ul>
<li class=""><strong>局部線位移 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">\Delta d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord">Δ</span><span class="mord mathnormal">d</span></span></span></span>)：</strong> 左右追蹤輪移動距離的平均值。
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>d</mi><mo>=</mo><mfrac><mrow><mi mathvariant="normal">Δ</mi><mi>L</mi><mo>+</mo><mi mathvariant="normal">Δ</mi><mi>R</mi></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\Delta d = \frac{\Delta L + \Delta R}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord">Δ</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Δ</span><span class="mord mathnormal mtight">L</span><span class="mbin mtight">+</span><span class="mord mtight">Δ</span><span class="mord mathnormal mtight" style="margin-right:0.00773em">R</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li>
<li class=""><strong>局部角位移 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>θ</mi></mrow><annotation encoding="application/x-tex">\Delta \theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span></span></span></span>)：</strong> 左右追蹤輪的位移差除以兩輪之間的距離 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">s</span></span></span></span>)。
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>θ</mi><mo>=</mo><mfrac><mrow><mi mathvariant="normal">Δ</mi><mi>L</mi><mo>−</mo><mi mathvariant="normal">Δ</mi><mi>R</mi></mrow><mi>s</mi></mfrac></mrow><annotation encoding="application/x-tex">\Delta \theta = \frac{\Delta L - \Delta R}{s}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Δ</span><span class="mord mathnormal mtight">L</span><span class="mbin mtight">−</span><span class="mord mtight">Δ</span><span class="mord mathnormal mtight" style="margin-right:0.00773em">R</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="第二步座標轉換-global-coordinate-transformation"><strong>第二步：座標轉換 (Global Coordinate Transformation)</strong><a href="#第二步座標轉換-global-coordinate-transformation" class="hash-link" aria-label="第二步座標轉換-global-coordinate-transformation的直接連結" title="第二步座標轉換-global-coordinate-transformation的直接連結" translate="no">​</a></h4>
<p>我們需要將機器人自身的相對位移，轉換為場地座標系的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">X</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.22222em">Y</span></span></span></span>。為了提高精度，我們通常使用該時間段內的平均角度 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>θ</mi><mrow><mi>a</mi><mi>v</mi><mi>g</mi></mrow></msub><mo>=</mo><msub><mi>θ</mi><mrow><mi>o</mi><mi>l</mi><mi>d</mi></mrow></msub><mo>+</mo><mfrac><mrow><mi mathvariant="normal">Δ</mi><mi>θ</mi></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\theta_{avg} = \theta_{old} + \frac{\Delta \theta}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">vg</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.01968em">l</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.2251em;vertical-align:-0.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Δ</span><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>：</p>
<ul>
<li class=""><strong>場地 X 軸增量：</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>x</mi><mo>=</mo><mi mathvariant="normal">Δ</mi><mi>d</mi><mo>×</mo><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><msub><mi>θ</mi><mrow><mi>a</mi><mi>v</mi><mi>g</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Delta x = \Delta d \times \cos(\theta_{avg})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">Δ</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em"></span><span class="mord">Δ</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">vg</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li>
<li class=""><strong>場地 Y 軸增量：</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>y</mi><mo>=</mo><mi mathvariant="normal">Δ</mi><mi>d</mi><mo>×</mo><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><msub><mi>θ</mi><mrow><mi>a</mi><mi>v</mi><mi>g</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Delta y = \Delta d \times \sin(\theta_{avg})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em"></span><span class="mord">Δ</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">vg</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="第三步累積總量"><strong>第三步：累積總量</strong><a href="#第三步累積總量" class="hash-link" aria-label="第三步累積總量的直接連結" title="第三步累積總量的直接連結" translate="no">​</a></h4>
<p>不斷將微小的變化加進總座標中：</p>
<ul>
<li class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>n</mi><mi>e</mi><mi>w</mi></mrow></msub><mo>=</mo><msub><mi>x</mi><mrow><mi>o</mi><mi>l</mi><mi>d</mi></mrow></msub><mo>+</mo><mi mathvariant="normal">Δ</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">x_{new} = x_{old} + \Delta x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02691em">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.01968em">l</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">Δ</span><span class="mord mathnormal">x</span></span></span></span></li>
<li class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mrow><mi>n</mi><mi>e</mi><mi>w</mi></mrow></msub><mo>=</mo><msub><mi>y</mi><mrow><mi>o</mi><mi>l</mi><mi>d</mi></mrow></msub><mo>+</mo><mi mathvariant="normal">Δ</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">y_{new} = y_{old} + \Delta y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02691em">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.01968em">l</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></li>
<li class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>θ</mi><mrow><mi>n</mi><mi>e</mi><mi>w</mi></mrow></msub><mo>=</mo><msub><mi>θ</mi><mrow><mi>o</mi><mi>l</mi><mi>d</mi></mrow></msub><mo>+</mo><mi mathvariant="normal">Δ</mi><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta_{new} = \theta_{old} + \Delta \theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02691em">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.01968em">l</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span></span></span></span></li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-硬體設計2-輪-vs-3-輪"><strong>4. 硬體設計：2 輪 vs 3 輪</strong><a href="#4-硬體設計2-輪-vs-3-輪" class="hash-link" aria-label="4-硬體設計2-輪-vs-3-輪的直接連結" title="4-硬體設計2-輪-vs-3-輪的直接連結" translate="no">​</a></h2>
<table><thead><tr><th style="text-align:left">方案</th><th style="text-align:left">配置</th><th style="text-align:left">優點</th><th style="text-align:left">缺點</th></tr></thead><tbody><tr><td style="text-align:left"><strong>3 輪里程計</strong></td><td style="text-align:left">左輪 + 右輪 + 後輪 (橫向)</td><td style="text-align:left">可測量橫向側滑 (Strafing)</td><td style="text-align:left">結構非常複雜、佔用空間大</td></tr><tr><td style="text-align:left"><strong>2 輪 + IMU</strong></td><td style="text-align:left">左輪 + 右輪 + 慣性感應器</td><td style="text-align:left">結構簡單、佔用空間小</td><td style="text-align:left">側滑測量較弱 (Tank Drive 可忽略)</td></tr></tbody></table>
<p><strong>實戰建議：</strong> 對於大多數 Tank Drive 底盤，建議採用 <strong>「雙輪 + 慣性感應器 (IMU)」</strong>。V5 的 IMU 非常精準，可以直接提供 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span></span></span></span> 數據，省去由輪速計算角度的誤差。</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-軟體實作主流函式庫-templates-介紹"><strong>5. 軟體實作：主流函式庫 (Templates) 介紹</strong><a href="#5-軟體實作主流函式庫-templates-介紹" class="hash-link" aria-label="5-軟體實作主流函式庫-templates-介紹的直接連結" title="5-軟體實作主流函式庫-templates-介紹的直接連結" translate="no">​</a></h2>
<p>理解原理後，我強烈建議新手<strong>不要</strong>從零開始寫數學庫。現時學界都有成熟的 <strong>Template</strong> 供大家使用：</p>
<table><thead><tr><th style="text-align:left">函式庫名稱</th><th style="text-align:left">支援環境</th><th style="text-align:left">特點與網結</th></tr></thead><tbody><tr><td style="text-align:left"><a href="https://github.com/LemLib/LemLib" target="_blank" rel="noopener noreferrer" class=""><strong>LemLib</strong></a></td><td style="text-align:left"><strong>PROS</strong></td><td style="text-align:left">全球最受歡迎。提供高度封裝的 Odometry 與運動演算法（如 Pure Pursuit）。</td></tr><tr><td style="text-align:left"><a href="https://ez-robotics.github.io/EZ-Template/" target="_blank" rel="noopener noreferrer" class=""><strong>EZ-Template</strong></a></td><td style="text-align:left"><strong>PROS</strong></td><td style="text-align:left">強調易用與快速上手。其 PID 校準介面與自定義 Task 管理非常適合比賽現場微調。</td></tr><tr><td style="text-align:left"><a href="https://github.com/HectorAlonso18/Lightninglib/" target="_blank" rel="noopener noreferrer" class=""><strong>Lightninglib</strong></a></td><td style="text-align:left"><strong>PROS</strong></td><td style="text-align:left">提供了一套完整的運動控制方案，包括路徑跟蹤與感應器過濾。</td></tr><tr><td style="text-align:left"><a href="https://github.com/EthanMik/mikLib" target="_blank" rel="noopener noreferrer" class=""><strong>MikLib</strong></a></td><td style="text-align:left"><strong>PROS</strong></td><td style="text-align:left">高效率代碼架構。內置 Asynchronous 運動控制器，適合追求流暢路徑與代碼簡潔的用家。</td></tr><tr><td style="text-align:left"><a href="https://github.com/richardbwang/RW-Template" target="_blank" rel="noopener noreferrer" class=""><strong>RW-Template</strong></a></td><td style="text-align:left"><strong>VEXcode / PROS</strong></td><td style="text-align:left"><strong>香港本地開發</strong>。高階自主機器人模板，專注於精確的運動規劃。支援多種感測器配置，適合需要強大適應性的團隊。</td></tr><tr><td style="text-align:left"><a href="https://github.com/JacksonAreaRobotics/JAR-Template" target="_blank" rel="noopener noreferrer" class=""><strong>JAR-Template</strong></a></td><td style="text-align:left"><strong>VEXcode</strong></td><td style="text-align:left">專為 VEXcode Pro V5 設計。提供易於配置的 2 輪/3 輪 Odom 選項與 PID 控制器。</td></tr></tbody></table>
<p><strong>代碼風格對比：</strong></p>
<ul>
<li class=""><strong>以前 (盲目運行)：</strong> <code>LeftMotor.spinFor(1000, degrees);</code></li>
<li class=""><strong>現在 (智慧導航)：</strong> <code>chassis.moveToPoint(200, 1000, 2000);</code> (自動行去座標 X:200, Y:1000)。</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-評審面談實戰-judges-interview"><strong>🎤 評審面談實戰 (Judges Interview)</strong><a href="#-評審面談實戰-judges-interview" class="hash-link" aria-label="-評審面談實戰-judges-interview的直接連結" title="-評審面談實戰-judges-interview的直接連結" translate="no">​</a></h2>
<p><strong>Q1. 你們為什麼需要里程計？直接用馬達編碼器不行嗎？</strong>
<em>(考察重點：對誤差來源的深刻理解)</em></p>
<p><strong>🧐 回答範例：</strong>
「馬達編碼器量度的是驅動輪的旋轉，而非底盤的實際位移。在防守和碰撞激烈的比賽中，輪胎打滑 (Wheel Slip) 是必然發生的。如果只依賴馬達，一旦打滑，座標系統就會崩潰。我們使用了獨立的<strong>無動力追蹤輪 (Tracking Wheels)</strong>，它不參與驅動，只負責跟隨地面移動。這讓我們實現了『絕對定位』，即使機器人被推開，它依然清楚自己在場上的位置。」</p>
<p><strong>Q2. 你們採用哪種里程計配置？為什麼？</strong>
<em>(考察重點：工程權衡 Engineering Trade-off)</em></p>
<p><strong>🧐 回答範例：</strong>
「我們採用了『雙輪 + 慣性感應器 (IMU)』的方案。雖然三輪配置能測量側移，但我們使用的是 Tank Drive 底盤，橫向打滑極少。同時 V5 IMU 的精度已經足夠應對旋轉角度。我們選擇減少一個機械結構以降低故障率，並節省空間給吸取裝置。這是一個基於 <strong>K.I.S.S. (Keep It Simple, Stupid)</strong> 原則的工程決策。」</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="文件選項卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/第六章/6_2"><div class="pagination-nav__sublabel">上一頁</div><div class="pagination-nav__label">6.2 PID：直線修正</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/第六章/6_4"><div class="pagination-nav__sublabel">下一頁</div><div class="pagination-nav__label">6.4 Pure Pursuit：純路徑追蹤</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#前情提要" class="table-of-contents__link toc-highlight"><strong>前情提要</strong></a></li><li><a href="#1-為什麼馬達編碼器會講大話" class="table-of-contents__link toc-highlight"><strong>1. 為什麼馬達編碼器會「講大話」？</strong></a></li><li><a href="#2-誠實的觀察者追蹤輪-tracking-wheels" class="table-of-contents__link toc-highlight"><strong>2. 誠實的觀察者：追蹤輪 (Tracking Wheels)</strong></a></li><li><a href="#3-數學原理" class="table-of-contents__link toc-highlight"><strong>3. 數學原理</strong></a><ul><li><a href="#微元法邏輯-the-logic-of-integration" class="table-of-contents__link toc-highlight"><strong>微元法邏輯 (The Logic of Integration)：</strong></a></li></ul></li><li><a href="#4-硬體設計2-輪-vs-3-輪" class="table-of-contents__link toc-highlight"><strong>4. 硬體設計：2 輪 vs 3 輪</strong></a></li><li><a href="#5-軟體實作主流函式庫-templates-介紹" class="table-of-contents__link toc-highlight"><strong>5. 軟體實作：主流函式庫 (Templates) 介紹</strong></a></li><li><a href="#-評審面談實戰-judges-interview" class="table-of-contents__link toc-highlight"><strong>🎤 評審面談實戰 (Judges Interview)</strong></a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">VEX V5資料分享網</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">社群</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 VEX V5資料分享網, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>